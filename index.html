<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>グラデーション</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>
      $(function(){
      let log = document.querySelector("#log");
        $(log).blur(function(){
          localStorage.setItem("data",this.innerHTML);
        })
        if(localStorage.getItem("data")){
          log.innerHTML = localStorage.getItem("data")
        }
      })
    </script>
  </head>
  <body class="chapter-2">
    <main>
      <!-- ボタン -->
      <button class="button">カラー変更</button>
      <!-- グラデーションが表示される長方形 -->
      <div class="rectangle"></div>
      <section><ul id="log" contenteditable="true"><li>a</li></ul></section>
    </main>
    <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <script>
      /** 長方形 */
      const rectangle = document.querySelector(".rectangle");
      const log = document.querySelector("#log");

      // ボタンをクリックしたらonClickButton()を実行する
      document
        .querySelector(".button")
        .addEventListener("click", onClickButton);

      /** ボタンをクリックする度に、長方形のグラデーション色を変える */
      function onClickButton() {
        // 0~359の間のランダムな数を取得する
        const randomHue = Math.trunc(Math.random() * 360);
        // グラデーションの開始色と終了色を決定
        const color1 = `hsl(${randomHue}, 100%, 50%)`;
        const color2 = `hsl(${randomHue + 40}, 100%, 50%)`;

        // 長方形のグラデーションのための変数（--startと--end）を変更
        rectangle.style.setProperty("--start", color1);
        rectangle.style.setProperty("--end", color2);
        //log.innerHTML+=`<li>${randomColorStart}</li>`
        log.innerHTML+=`<li>background-image: linear-gradient(-135deg, ${color1},${color2});</li>`

      }
    </script>
  </body>
</html>
